Source of files for Oasis LMF Bangladesh Cylone Wind and Storm Surge models
Author: Johanna Carter, Oasis Palmtree Ltd


**Last updated 26th April 2022**
vulnerability.bin has been updated due to missing intensity bins: range 1101-1122 for vulnerability id beginning with 2 (wind vulnerabilities) and range 1-1100 for vulnerability_id beginning with 3 (storm surge vulnerabilities)
These bins have been populated with single records with damage bin 1 and prob. This is because they will never be paired with footprints which contain these missing intensity bin ranges because they relate to different perils, but the full range 1-1122 must be present
Files vulnerability_fixed2.bin and vulnerability_fixed2.csv sent via slack Palmtree channel on 26/4/2022. vulnerability_fixed2.bin to replace vulnerability.bin



**Last updated 21st April 2022**
vulnerability.bin has been updated due to missing intensity bins: range 1101-1122 for vulnerability id beginning with 2 (wind vulnerabilities) and range 1-1100 for vulnerability_id beginning with 3 (storm surge vulnerabilities)
These bins have been populated with single records with damage bin 1 and prob. This is because they will never be paired with footprints which contain these missing intensity bin ranges because they relate to different perils, but the full range 1-1122 must be present
Files vulnerability_fixed.bin and vulnerability_fixed.csv sent via slack Palmtree channel on 21/4/2022. vulnerability_fixed.bin to replace vulnerability.bin


Date 25th March 2021
**Last updated 7th May 2021**

**Final model data folders for Oasis Platform**
/mnt/efs/IKI/IKI-Oasis

Bangladesh Cyclone Set1 (historical 9 member ensemble 1991 - 2019) Wind 4.4km grid + Storm Surge 4.4km grid v0.0.1
/mnt/efs/IKI/IKI-Oasis/BGWTC4SS4/model_data

filename 				| source
damage_bin_dict.bin 			| source_data/from_buet/Model_data/damage_bin_dict.bin
damage_bin_dict.csv			| source_data/from_palmtree/BGWTC4SS4/damage_bin_dict.csv
events.bin 				| source_data/from_ukmo/set1/set1/input/events.bin
footprint.bin.z 			| source_data/from_palmtree/BGWTC4SS4/footprint.bin.z
footprint.csv 				| source_data/from_palmtree/BGWTC4SS4/footprint.csv
footprint.idx.z				| source_data/from_palmtree/BGWTC4SS4/footprint.idx.z
hc_oasis_events.csv			| source_data/from_ukmo/set1/set1/hc_oasis_events.csv
hc_oasis_occurrence.csv 		| source_data/from_ukmo/set1/set1/hc_oasis_occurrence.csv
occurrence.bin 				| source_data/from_palmtree/BGWTC4SS4/occurrence.bin
vulnerability.bin 			| source_data/from_catrisks/vulnerability/vulnerability.bin
returnperiods.csv			| source_data/from_palmtree/BGWTC4SS4/returnperiods.csv
returnperiods.csv			| source_data/from_palmtree/BGWTC4SS4/returnperiods.csv

/mnt/efs/IKI/IKI-Oasis/BGWTC4SS4/keys_data

filename 				| source
DictAreaPeril.csv	 		| source_data/from_catrisks/Keys_Data_4p4/DictAreaPeril.csv
DictVULNERABILITY.csv			| source_data/from_catrisks/Keys_Data_4p4/DictVULNERABILITY.csv
LocationMapping_AREA_LEVEL_1.csv	| source_data/from_catrisks/Keys_Data_4p4/LocationMapping_AREA_LEVEL_1.csv
LocationMapping_AREA_LEVEL_2.csv	| source_data/from_catrisks/Keys_Data_4p4/LocationMapping_AREA_LEVEL_2.csv
LocationMapping_AREA_LEVEL_3.csv	| source_data/from_catrisks/Keys_Data_4p4/LocationMapping_AREA_LEVEL_3.csv
LocationMapping_AREA_LEVEL_4.csv	| source_data/from_catrisks/Keys_Data_4p4/LocationMapping_AREA_LEVEL_4.csv
LocationMapping_AREA_LEVEL_5.csv	| source_data/from_catrisks/Keys_Data_4p4/LocationMapping_AREA_LEVEL_5.csv
OED_CONSTRUCTION_CLASS.csv		| source_data/from_catrisks/Keys_Data_4p4/OED_CONSTRUCTION_CLASS.csv
OED_OCCUPANCY_SCHEME.csv		| source_data/from_catrisks/Keys_Data_4p4/OED_OCCUPANCY_SCHEME.csv

Bangladesh Cyclone Set1 (historical 9 member ensemble 1991 - 2019) Wind 4.4km grid + Storm Surge 1.5km grid v0.0.1
/mnt/efs/IKI/IKI-Oasis/BGWTC4SS1/model_data

filename 				| source
damage_bin_dict.bin 			| source_data/from_buet/Model_data/damage_bin_dict.bin
damage_bin_dict.csv			| source_data/from_palmtree/BGWTC4SS1/damage_bin_dict.csv
events.bin 				| source_data/from_ukmo/set1/set1/input/events.bin
footprint.bin.z 			| source_data/from_palmtree/BGWTC4SS1/footprint.bin.z
footprint.csv 				| source_data/from_palmtree/BGWTC4SS1/footprint.csv
footprint.idx.z				| source_data/from_palmtree/BGWTC4SS1/footprint.idx.z
hc_oasis_events.csv			| source_data/from_ukmo/set1/set1/hc_oasis_events.csv
hc_oasis_occurrence.csv 		| source_data/from_ukmo/set1/set1/hc_oasis_occurrence.csv
occurrence.bin 				| source_data/from_palmtree/BGWTC4SS1/occurrence.bin
vulnerability.bin 			| source_data/from_catrisks/vulnerability/vulnerability.bin
returnperiods.csv			| source_data/from_palmtree/BGWTC4SS1/returnperiods.csv
returnperiods.csv			| source_data/from_palmtree/BGWTC4SS1/returnperiods.csv

/mnt/efs/IKI/IKI-Oasis/BGWTC4SS1/keys_data

filename				| source
DictAreaPeril.csv			| source_data/from_catrisks/Keys_Data_1p5/DictAreaPeril.csv
DictVULNERABILITY.csv			| source_data/from_catrisks/Keys_Data_1p5/DictVULNERABILITY.csv
LocationMapping_AREA_LEVEL_1.csv	| source_data/from_catrisks/Keys_Data_1p5/LocationMapping_AREA_LEVEL_1.csv
LocationMapping_AREA_LEVEL_2.csv	| source_data/from_catrisks/Keys_Data_1p5/LocationMapping_AREA_LEVEL_2.csv
LocationMapping_AREA_LEVEL_3.csv	| source_data/from_catrisks/Keys_Data_1p5/LocationMapping_AREA_LEVEL_3.csv
LocationMapping_AREA_LEVEL_4.csv	| source_data/from_catrisks/Keys_Data_1p5/LocationMapping_AREA_LEVEL_4.csv
LocationMapping_AREA_LEVEL_5.csv	| source_data/from_catrisks/Keys_Data_1p5/LocationMapping_AREA_LEVEL_5.csv
OED_CONSTRUCTION_CLASS.csv		| source_data/from_catrisks/Keys_Data_1p5/OED_CONSTRUCTION_CLASS.csv
OED_OCCUPANCY_SCHEME.csv		| source_data/from_catrisks/Keys_Data_1p5/OED_OCCUPANCY_SCHEME.csv

**Source of original data**
**UK Met Office**
/mnt/efs/IKI/IKI-Oasis/source_data/from_ukmo/set1/

Downloaded from Oasis hub on Friday 19th March
https://oasishub.co/dataset/bangladesh-tropical-cyclone-historical-catalogue/resource/90bb8f68-2c76-4fe3-9971-f389ecb62e76

**BUET**
/mnt/efs/IKI/IKI-Oasis/source_data/from_buet/BGWTC4SS1/1P5_RUN
/mnt/efs/IKI/IKI-Oasis/source_data/from_buet/BGWTC4SS4/4P4_RUN
/mnt/efs/IKI/IKI-Oasis/source_data/from_buet/Model_data

Copied from following location on Oasis sftp server on Friday 19th March
/mnt/efs/IKI/sftp/BGWTC4SS1
/mnt/efs/IKI/sftp/BGWTC4SS4
(uploaded on 7th December 2020)

**Catrisks**
/mnt/efs/IKI/IKI-Oasis/source_data/from_catrisks/

Copied from following location on Oasis sftp server on Friday 19th March
/mnt/efs/IKI/catrisks
(uploaded on 16th March 2021)

/mnt/efs/IKI/IKI-Oasis/source_data/from_catrisks/vulnerability
Added on 7th May from an email from Mohammad to update vulnerability for storm surge after validation work.

**Oasis Palmtree**
The below describes the data manipulation performed on the original source data to complete the model data package.

/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS1/footprint*
Combined wind and storm surge footprint for the 1.5km grid storm surge module
merged and reordered the following files (first is wind only, second is storm surge only);
source_data/from_ukmo/set1/set1/hc_oasis_footprint.csv
source_data/from_buet/1P5_RUN/footprint.csv
converted to binary using command;
footprinttobin -i 1122 -n -z -u < footprint.csv

/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS4/footprint*
Combined wind and storm surge footprint for the 4.4km grid storm surge module
merged and reordered the following files (first is wind only, second is storm surge only);
source_data/from_ukmo/set1/set1/hc_oasis_footprint.csv
source_data/from_buet/4P4_RUN/footprint.csv
converted to binary using command;
footprinttobin -i 1122 -n -z -u < footprint.csv

/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS1/occurrence.bin
/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS4/occurrence.bin
converted into binary format from the following file (occurrence.bin on Oasis hub out of date);
/mnt/efs/IKI/IKI-Oasis/source_data/from_ukmo/set1/set1/hc_oasis_occurrence.csv
converted to binary using command;
occurrencetobin -P 261 < hc_oasis_occurrence.csv > occurrence.bin

/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS1/vulnerability.csv
/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS4/vulnerability.csv
csv copies of 
source_data/from_buet/Model_data/vulnerability.bin
using command vulnerabilitytocsv < vulnerability.bin > vulnerability.csv

/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS1/damage_bin_dict.csv
/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS4/damage_bin_dict.csv
csv copies of 
source_data/from_buet/Model_data/damage_bin_dict.bin
using command damagebintocsv < damage_bin_dict.bin > damage_bin_dict.csv

/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS1/returnperiods.csv
/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS4/returnperiods.csv
/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS1/returnperiods.bin
/mnt/efs/IKI/IKI-Oasis/source_data/from_palmtree/BGWTC4SS4/returnperiods.bin
returnperiodtobin < returnperiods.csv > returnperiods.bin
Created to show return periods up to 30 (this is a historical model covering a 30 year period)
